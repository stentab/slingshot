<!DOCTYPE html>
<html>
<head>
	<title>Slingshot Game</title>
	<style>
		body {
			background-color: black;
			margin: 0;
			padding: 0;
		}
		canvas {
			display: block;
			margin: 0 auto;
		}
	</style>
</head>
<body>
	<canvas id="myCanvas"></canvas>
	<script>
		const canvas = document.getElementById('myCanvas');
		const ctx = canvas.getContext('2d');
		
		canvas.width = window.innerWidth;
		canvas.height = window.innerHeight;
		
		// Spaceship object with position, velocity, rotation, and acceleration properties
		const spaceship = {
			x: canvas.width / 2,
			y: canvas.height / 2,
			vx: 0,
			vy: 0,
			rotation: 0,
			acceleration: 0.1,
			maxVelocity: 5,
			size: 10,
			engineOn: false
		};

		// Array of star objects with x, y, and radius properties
		const stars = [];
		for (let i = 0; i < 100; i++) {
			stars.push({
				x: Math.random() * canvas.width,
				y: Math.random() * canvas.height,
				radius: Math.random() * 2
			});
		}

		// Draw stars on the canvas
		function drawStars() {
			ctx.fillStyle = 'white';
			for (let star of stars) {
				ctx.beginPath();
				ctx.arc(star.x, star.y, star.radius, 0, 2 * Math.PI);
				ctx.fill();
			}
		}
		
		// Draw spaceship on the canvas
		function drawSpaceship() {
			ctx.save();
			ctx.translate(spaceship.x, spaceship.y);
			ctx.rotate(spaceship.rotation);
			ctx.fillStyle = 'red';
			ctx.beginPath();
			ctx.moveTo(0, -20);
			ctx.lineTo(10, 5);
			ctx.lineTo(0, 2);
			ctx.lineTo(-10, 5);
			ctx.closePath();
			ctx.fill();

			// Draw fire behind spaceship when engine is on
			if (spaceship.engineOn) {
				ctx.fillStyle = 'yellow';
				ctx.beginPath();
				ctx.moveTo(0, spaceship.size / 2 + 5);
				ctx.lineTo(-spaceship.size / 2, spaceship.size + Math.random() * 10);
				ctx.lineTo(spaceship.size / 2, spaceship.size + Math.random() * 10);
				ctx.closePath();
				ctx.fill();
			}

			ctx.restore();
		}

		function drawCoordinates() {
			// Draw spaceship coordinates
			ctx.fillStyle = "white";
			ctx.font = "16px Arial";
			ctx.fillText(`Spaceship: (${Math.round(spaceship.x)}, ${Math.round(spaceship.y)})`, 10, 20);

		}
		
		// Update spaceship position and velocity based on rotation and acceleration
		function updateSpaceship() {
			// Update velocity based on acceleration and rotation
			if (spaceship.engineOn) {
				spaceship.vx += Math.sin(spaceship.rotation) * spaceship.acceleration;
				spaceship.vy -= Math.cos(spaceship.rotation) * spaceship.acceleration;
			}
			// Limit velocity to maxVelocity
			const velocity = Math.sqrt(spaceship.vx ** 2 + spaceship.vy ** 2);
			if (velocity > spaceship.maxVelocity) {
				spaceship.vx *= spaceship.maxVelocity / velocity;
				spaceship.vy *= spaceship.maxVelocity / velocity;
			}
			// Update position based on velocity
			spaceship.x += spaceship.vx;
			spaceship.y += spaceship.vy;
			// Wrap around screen if spaceship goes beyond borders
			if (spaceship.x < -spaceship.size) {
				spaceship.x = canvas.width + spaceship.size;
			} else if (spaceship.x > canvas.width + spaceship.size) {
				spaceship.x = -spaceship.size;
			}
			if (spaceship.y < -spaceship.size) {
				spaceship.y = canvas.height + spaceship.size;
			} else if (spaceship.y > canvas.height + spaceship.size) {
				spaceship.y = -spaceship.size;
			}
		}

		
		// Handle arrow key and up key presses to rotate and propel spaceship
		function handleKeyDown(event) {
			if (event.code === 'ArrowLeft') {
				spaceship.rotation -= 0.1;
			} else if (event.code === 'ArrowRight') {
				spaceship.rotation += 0.1;
			} else if (event.code === 'ArrowUp') {
				spaceship.engineOn = true;
			}
		}
		
		// Handle up key release to turn off spaceship engine
		function handleKeyUp(event) {
			if (event.code === 'ArrowUp') {
				spaceship.engineOn = false;
			}
		}
		
		// Game loop to update and render spaceship on the canvas
		function gameLoop() {
			ctx.clearRect(0, 0, canvas.width, canvas.height);
			updateSpaceship();
			drawSpaceship();
			drawStars();
			drawCoordinates();
			requestAnimationFrame(gameLoop);
		}
		
		// Start the game loop and listen for key events
		gameLoop();
		document.addEventListener('keydown', handleKeyDown);
		document.addEventListener('keyup', handleKeyUp);
	</script>
</body>
</html>
